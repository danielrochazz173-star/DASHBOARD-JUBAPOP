<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Relatorio - Google Sheets</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=IBM+Plex+Serif:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="bg-orb orb-1" aria-hidden="true"></div>
    <div class="bg-orb orb-2" aria-hidden="true"></div>

    <header class="hero">
      <div>
        <p class="eyebrow">Relatorio vivo</p>
        <h1>Dashboard JUBAPOP</h1>
        <p class="subtitle">
          Dados atualizados direto do formulario, com foco nas informacoes
          principais e leitura facil no celular.
        </p>
      </div>
      <div class="hero-actions">
        <button id="refreshBtn" class="primary">Atualizar agora</button>
        <p id="statusText" class="status">Pronto para carregar.</p>
      </div>
    </header>

    <section class="grid stats">
      <article class="card">
        <h3>Total de respostas</h3>
        <p id="totalCount" class="metric">-</p>
      </article>
      <article class="card">
        <h3>Idade media</h3>
        <p id="avgAge" class="metric">-</p>
      </article>
      <article class="card">
        <h3>Dia mais votado</h3>
        <p id="topDay" class="metric">-</p>
      </article>
      <article class="card">
        <h3>Area mais citada</h3>
        <p id="topArea" class="metric">-</p>
      </article>
    </section>

    <section class="grid charts">
      <article class="card chart-card">
        <div class="card-header">
          <h3>Dias preferidos</h3>
          <span class="chip">Semanal</span>
        </div>
        <canvas id="daysChart" height="220"></canvas>
      </article>
      <article class="card chart-card">
        <div class="card-header">
          <h3>Areas de servico</h3>
          <span class="chip">Cultos jovens</span>
        </div>
        <canvas id="areasChart" height="220"></canvas>
      </article>
    </section>

    <section class="card roster-card">
      <div class="card-header">
        <div>
          <h3>Pessoas por area</h3>
          <p class="muted">Filtre a area para ver quem esta em cada time.</p>
        </div>
        <div class="filter-wrap">
          <label class="filter-label" for="areaFilter">Area</label>
          <select id="areaFilter" class="filter">
            <option value="">Todas</option>
          </select>
        </div>
      </div>
      <div id="areaList" class="roster"></div>
    </section>

    <section class="card birthdays-card">
      <div class="card-header">
        <div>
          <h3>Aniversariantes do mes</h3>
          <p class="muted">Para organizar os parabens e contatos.</p>
        </div>
        <span id="birthdaysMonth" class="chip">-</span>
      </div>
      <div id="birthdaysList" class="birthdays"></div>
    </section>

    <section class="card table-card">
      <div class="card-header">
        <div>
          <h3>Respostas completas</h3>
          <p class="muted">Nome, nascimento, idade e outras informacoes.</p>
        </div>
        <div class="table-actions">
          <input
            id="searchInput"
            class="search"
            type="search"
            placeholder="Buscar por nome, dia, area..."
          />
          <button id="toggleTable" class="secondary" type="button">
            Mostrar respostas
          </button>
        </div>
      </div>
      <div id="tablePanel" class="table-panel is-collapsed">
        <div class="table-wrap">
          <table>
            <thead id="tableHead"></thead>
            <tbody id="tableBody"></tbody>
          </table>
        </div>
        <p id="lastUpdated" class="updated">Ultima atualizacao: -</p>
      </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
  </body>
</html>
